<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/bootstrap-material-design.min.css">
    <title>JS - Array </title>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col text-center p-3 m-3">
                <h1>Inspect the result on console</h1>
                <button class="btn btn-primary"><a href="https://github.com/cc1683/jsStudio/blob/99363a238f1ab503c846853babcfdffcc572dc18/arrayTest.html#L42-L176" target="_blank">JS Code Here</a></button>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <div class="col justify-content-center text-center p-3 m-3">
                <h5 class="arrayDemo"></h5>
            </div>
        </div>
        <div class="col justify-content-center text-center m-3">
            <button class="btn btn-raised btn-primary" id="btn-show-array">
                Display array items
            </button>
            <button class="btn btn-raised btn-danger" id="btn-hide-array">
                Hide array item
            </button>
        </div>
    </div>

    <style>
        body {
            overflow-x: hidden;
        }
    </style>
    <script>
        /*
            -- sort()
            -- filter()
            -- map()
            -- reduce()
        */

       // Create an array
       var colors = ['red', 'green', 'blue'];
       console.log(colors);
       console.log(colors[1]);

       // Loop over array
       colors.forEach((index, color) => {
           console.log(index + ' : '+ color);
       })

       /* ========================================================================= */
       //display array on html
       var btnShowArray = document.getElementById("btn-show-array");
       var btnHideArray = document.getElementById("btn-hide-array");

       btnShowArray.addEventListener('click', showArray);
       function showArray() {
           document.querySelector('.arrayDemo').innerHTML = colors;
       };
       btnHideArray.addEventListener('click', () => {
           document.querySelector('.arrayDemo').innerHTML = '';
       });
       /* ========================================================================== */

       // removed items from index position

        var nameList = ['albert', 'bob', 'carl', 'dolly', 'eric'];
        // let say want to remove bob and carl
        var pos = nameList.indexOf('bob'); // 1
        var removedNameList = nameList.splice(pos, 2);// pos = start index, 2 = defines the number of items to be removed
        console.log(nameList);
        console.log(removedNameList);

       /* ============================================================================ */
        //array inside an object

        var jsObj = {
            author: 'luis',
            colors: ['red', 'blue', 'purple', 'black', 'white']
        };

        console.log(jsObj);
        console.log(jsObj.colors);
        console.log(jsObj.colors[1]); // blue

        /* ============================================================================== */

        // Array List
        const inventors = [
            {first: 'Albert', last: 'Einstein', year: 1879 , passed: 1955},
            {first: 'Isaac', last: 'Newton', year: 1643 , passed: 1727},
            {first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642},
            {first: 'Marie', last: 'Curie', year: 1867, passed: 1934},
            {first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630}
        ];

        // sort-1 -> sort the list based on year

        const sortYear =  inventors.sort((a, b) => {
            if (a.year > b.year) {
                return 1;
            } else {
                return -1;
            }
        });

        console.table(sortYear);

        // sort-2 -> sort the list alphabetically by first name

        const fName = inventors.sort((a, b) => {
            return a.first > b.first ? 1: -1;
        });

        console.table(fName);

        // filter & sort -> return only when year between 1500 - 1700

        const filterYear = inventors.filter(inventor => {
            if (inventor.year >= 1500 && inventor.year < 1700) {
                return true;
            }
        });

        const furtherSort = filterYear.sort((a, b) => {
            return a.year > b.year ? 1: -1;
        })

        console.table(furtherSort);

        // map -> return only the name from the list

        const onlyName = inventors.map(inventor => {
            return inventor.first+', '+inventor.last;
        });

        console.table(onlyName);

        // reduce -> sum up the total year
        
        const totalYear = inventors.reduce((total,inventor) => {
            return total + inventor.year;
        }, 0);

        console.log(totalYear);

        //reduce -- sum up the skill people

        const skillList = [
            {name: 'Albert', skill: 'PS'},
            {name: 'Ben', skill: 'CSS'},
            {name: 'John', skill: 'CSS'},
            {name: 'Eric', skill: 'CSS'},
            {name: 'Garry', skill: 'PS'},
        ];

        const skillDis = skillList.reduce((total, skills) => {
            total[skills.skill]++;
            return total;
        }, {
            PS: 0,
            CSS: 0
        });

        console.table(skillDis);

    </script>
    
</body>
</html>